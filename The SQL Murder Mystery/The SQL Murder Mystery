-- All queries are in SQLite

-- Query to list the tables available in the database
SELECT 
	name 
FROM 
	sqlite_master
WHERE 
	type = 'table';

SELECT 
	*
FROM 
	crime_scene_report
WHERE 
	date = 20180115
	AND
	LOWER(type) = 'murder'
	AND
	LOWER(city) LIKE 'sql%';

Query to lookup the details of the witnesses based on information in the crime scene report
SELECT 
	*
FROM 
	person
WHERE 
	address_street_name = 'Northwestern Dr'
	AND
	address_number = (SELECT MAX(address_number)
					  FROM person
					  WHERE address_street_name = 'Northwestern Dr')
UNION 
SELECT 
	*
FROM 
	person
WHERE
	(address_street_name = 'Franklin Ave'
	AND
	LOWER(name) LIKE 'annabel%')
ORDER BY 
	address_street_name,
	address_number;

Query to review the transcript of the interview with the witnesses Annabel Miller(ID 16371) & Morty Schapiro (ID 14887)
SELECT 
	*
FROM 
	interview
WHERE 
	person_id IN (16371, 14887);

Query to look up details based on license plate info in witness reports
SELECT 
	*
FROM
	drivers_license
WHERE
	gender = 'male'
	AND
	LOWER(plate_number) LIKE '%h42w%';

Query to retrieve information based on gym membership info in witness reports
SELECT 
	gfnci.membership_id,
	gfnm.person_id,
	gfnm.name,
	gfnm.membership_status,
	gfnci.check_in_date
FROM
	get_fit_now_member gfnm INNER JOIN get_fit_now_check_in gfnci
	ON
	gfnm.id = gfnci.membership_id
WHERE	
	id LIKE '48Z%'
	AND
	membership_status = 'gold';

Query to retrieve the details of the suspects
SELECT 
	*
FROM
	person
WHERE 
	id IN (28819, 67318);

Query to look up the verify the existence of the suspects
SELECT 
	p.id,
	p.name,
	p.ssn
FROM 
	person p INNER JOIN income i
	ON
	p.ssn = i.ssn
WHERE 
	p.ssn IN (138909730, 871539279);

**Extra Challenge
Query to look up the details of the person described by the murderer
SELECT 
	*
FROM
	drivers_license
WHERE 
	gender = 'female'
	AND 
	height IN (65, 67)
	AND
	hair_color = 'red'
	AND
	LOWER(car_make) = 'tesla'
	AND
	LOWER(car_model) = 'model s';

